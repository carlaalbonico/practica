<script>

    var sesion = sessionStorage.getItem("usuario");
    
    if(sesion==null){
        window.location.assign("http://localhost/practica/login.html");
    }

</script>

<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
   
   
   <!-- agrego css-->
   <link rel="stylesheet" href="../design.css">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
   
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
   <link href="menuAdminSocio.css"  rel="stylesheet">

    <!-- ¿script para alert-->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
   
    <!-- agrego javascript-->
   <script src="menuAdminSocio.js"></script>
  
   

    <!-- PARA DISPOSITIVOS CHICOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Push UP</title>
    
</head>
<body id="fondo">

   <!--barra horizontal-->
   <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <img src="../imagenes/pushup1.png" class="" alt="..."  width="100" height="92">
  <button class="navbar-toggler position-absolute d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="true" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  
  <div class="navbar-nav">
    <ul>
        <span class="fs-4 me-2 text-light" id="bienvenido"></span>
        <button class="btn btn-outline-light my-2 my-sm-0" type="button" id="perfil">Perfil</button>
        <button class="btn btn-outline-success my-2 my-sm-0" type="button" id="logOut">Cerrar Sesión</button>
    
    </ul>
  </div>
</header>


<div class="container-fluid">
    <div class="row">
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block  sidebar collapse show" >
        <div class="position-sticky pt-3 sidebar-sticky">
          <ul class="nav flex-column">
              <li class="nav-item">
                  <a href="http://localhost/practica/sesionAdmin/sesionAdminPpal.html" class="nav-link text-dark" aria-current="page" id="navBtnInicio">
                      <img src="../imagenes/home.png" alt="" width="32" height="32" class="  me-2">
                  Inicio
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/grillaHoraria/menuAdminGrilla.html" class="nav-link text-dark" id="navBtnHorarios">
                      <img src="../imagenes/horario.png" alt="" width="32" height="32" class=" me-2">
                  Grilla Horaria
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/socio/menuAdminSocio.html" class="nav-link text-dark" id="navBtnSocios" onclick="menuConsultarSocio()">
                      <img src="../imagenes/socio.png" alt="" width="32" height="32" class=" me-2">
                  Socios
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/profesor/menuAdminProf.html" class="nav-link text-dark" id="navBtnProfesores" onclick="menuConsultarProf()">
                      <img src="../imagenes/profesor.png" alt="" width="32" height="32" class=" me-2">
                  Profesores
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/clase/menuAdminClase.html" class="nav-link text-dark" id="navBtnClases" onclick="clickConsultarClase();">
                      <img src="../imagenes/freeboxx.png" alt="" width="32" height="32" class=" me-2">
                  Clases
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/rutina/menuAdminRutina.html" class="nav-link text-dark" id="navBtnRutinas" onclick="clickConsultarRutina()">
                      <img src="../imagenes/rutinas.png" alt="" width="32" height="32" class=" me-2">
                  Rutinas
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/suscripcion/menuAdminSusc.html" class="nav-link text-dark" id="navBtnSuscripcion">
                      <img src="../imagenes/suscripcion.png" alt="" width="32" height="32" class=" me-2">
                  Suscripcion
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/actividad/menuAdminActividad.html" class="nav-link text-dark" id="navBtnActividades">
                      <img src="../imagenes/actividades.png" alt="" width="32" height="32" class=" me-2">
                  Actividades
                  </a>
              </li>
              <li>
                  <a href="http://localhost/practica/informes/menuAdminInforme.html" class="nav-link text-dark" id="navBtnInformes">
                      <img src="../imagenes/informes.png" alt="" width="32" height="32" class=" me-2">
                  Informes
                  </a>
              </li>

              
          </ul>
          <hr>
     

      </nav>
  
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div  id="cartel" >
                <p id="respuesta"></p>
            </div>
            
        <div id="botonAtras" class="text-left">
            <button class="previous btn btn-secondary" type="button" id="btnAtras">
                
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            
            </button>
        </div>
    
        
        
        <div class="mt-2" id="busquedaSocios">

            <div class=" d-flex  justify-content-between  align-items-center mt-2">
                
                <div class=" d-flex   align-items-center">   
                    <img src="../imagenes/socio.png" alt="" width="60" height="60" class=" me-2">
                    <h2 class="mb-1 text-center border-bottom border-danger">Socios</h2>
                </div>
            
              
                <button type="button" class="btn btn-sm  btn-outline-dark bg-primary bg-opacity-75" onclick="menuRegistrarSocio()">Nuevo socio</button>
            </div>
                        
            <div class="row align-items-center p-1 ">

                <input type="text" id="nombreBuscado" onkeyup="buscarPorNombre()" placeholder="Buscar por nombre..." autofocus>
    
                <table class="table" id="tablaSocios">

                    <thead>
                    <tr>
                        <th scope="col">Socio N°</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Correo</th>
                        <th scope="col"></th>         
                    </tr>
                    </thead>

                    <tbody id="infoSocios">
                        
                    </tbody>

                </table>

                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center" id="pages">

                    </ul>
                </nav>
            </div>
        </div>

        <div id="botonesAdminParaUnSocio" class="form-menu mt-2">
            
            <div class="row">
                <div class="col-md-4 order-md-1 mb-4">
                    <div class=" ms-3 d-flex  align-items-center">
                        <img src="../imagenes/socio.png" alt="" width="100" height="100" class="me-2">
                        <h2 class="mb-1 text-center ">Socio</h2>
                        
                    </div>
                    <div class="form-boton text-center">
                        <button class="btn btn-lg btn-primary  btn-block" type="button" id="btnRegistrarSuscripcion" onclick="clickRegistrarSuscripcion()">Agregar Suscripcion</button>
                        
                        <button  class="btn btn-lg btn-primary btn-block" type="button" id="btnInscribirSocioClase" onclick="clickInscribirSocioClase()" >Inscribir a clase</button>

                        <button  class="btn btn-lg btn-primary btn-block" type="button" id="btnHistorialInscripcion" onclick="clickHistorialInscripcion()" >Historial de inscripciones</button>
                        
                        <button  class="btn btn-lg btn-primary btn-block" type="button" id="btnHistorialInscripcion" onclick="clickHistorialSuscripcion()" >Historial de suscripciones</button>
                    </div>
                    <div class="ms-4">
                        <h3>SUSCRIPCION ACTIVA: </h3>
                        <div class="p-2" id="suscripcionActiva">
                            
                            <div class="spinner-grow" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div> 
                        </div>
                    </div>
                </div>
    
    
                <div class="col-md-8 order-md-2 mb-4">
                    <h4 class="d-flex justify-content-between align-items-center mb-3">
                        <span class="text-muted">DATOS</span>
                    </h4>
                    <ul class="list-group mb-3">
                    
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Numero de SOCIO:</h6>
                            </div>
                                <span class="text-muted" id="nroSocio"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Nombre:</h6>
                            </div>
                                <span class="text-muted" id="nombreSocio"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Apellido:</h6>
                            </div>
                                <span class="text-muted" id="apellidoSocio"></span>
                        </li>
                    
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Direccion:</h6>
                            </div>
                                <span class="text-muted" id="direccionSocio"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Telefono:</h6>
                            </div>
                                <span class="text-muted" id="telefonoSocio"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Email:</h6>
                            </div>
                                <span class="text-muted" id="emailSocio"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Estado:</h6>
                            </div>
                                <span class="text-muted" id="estadoSocio"></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div>
                                <h6 class="my-0">Fecha de alta:</h6>
                            </div>
                                <span class="text-muted" id="altaSocio"></span>
                        </li>
    
                        
                        <button class="btn btn-lg btn-primary" type="button" id="btnModificar" >Modificar socio</button>
                        <button class="btn btn-lg btn-danger" type="button" id="btnBorrar" >Borrar Socio</button>
                        <button class="btn btn-lg btn-danger" type="button" id="btnHabilitar" >Habilitar Socio</button>
                    </ul>
            
                    
                </div>
            </div>
    
        
        </div>
    
    
    
        <form id="formularioModificarSocio" >


            <div class="form-tablas">
                <div class="d-flex  align-items-center ">
                    <img src="../imagenes/editar.png" alt="" width="100" height="100" class=" ">
                    <h2 class="mb-1 text-center border-bottom border-primary"> Modificar socio</h2>  
                </div>
                <br>
                <div class="row align-items-center p-1 ">
            
                        
                           
                            <ul class="list-group mb-3">
                                
                                <li class="list-group-item d-flex justify-content-between lh-condensed">
                                    <div>
                                    <h6 class="my-0">Nombre:</h6>
                                    </div>
                                    
                                    <input type="text" class="form-control" name="nombreSocioModificar"id="nombreSocioModificar" placeholder="" value="" required="">
                                    
                                </li>
                                <li class="list-group-item d-flex justify-content-between lh-condensed">
                                    <div>
                                    <h6 class="my-0">Apellido:</h6>
                                    </div>
                                    <input type="text" class="form-control" id="apellidoSocioModificar" placeholder="" value="" required="">
                                </li>
                                
                                <li class="list-group-item d-flex justify-content-between lh-condensed">
                                    <div>
                                    <h6 class="my-0">Direccion:</h6>
                                    </div>
                                    <input type="text" class="form-control" id="direccionSocioModificar" placeholder="" value="" required="">
                                </li>
                                <li class="list-group-item d-flex justify-content-between lh-condensed">
                                    <div>
                                    <h6 class="my-0">Telefono:</h6>
                                    </div>
                                    <input type="text" class="form-control" id="telefonoSocioModificar" placeholder="" value="" required="">
                                </li>
                                <li class="list-group-item d-flex justify-content-between lh-condensed">
                                    <div>
                                        <h6 class="my-0">Email:</h6>
                                    </div>
                                        <span class="text-muted" id="emailSocioModificar"></span>
                                </li>
                    
                    
                             
                                <button class="btn btn-lg btn-primary" type="button" id="btnModificarGuardar" >Guardar</button>
                    
                            </ul>
                    
                            
                </div>
            </div>
            
        </form>
    
    
    
        <div id="formularioChico" class="mb-5">
            <div class="row  align-items-center justify-content-center">
                <div class="col-md-10 order-md-1  d-flex  align-items-center justify-content-between border border-dark rounded-3 bg-white">
                    <div class=" ms-3 d-flex  align-items-center">
                        <img src="../imagenes/socio.png" alt="" width="50" height="50" class="me-2">
                        <h5 class="mb-1 text-center ">SOCIO: </h5>
                      
                    </div>
                    <p class="fw-bold fs-4" id="nroSocioForm"></p>
                </div>

            
                <br>  
        
            </div>
            
           
        </div>

        <div id="historialInscripcion" class="mt-3">
            <div class=" ms-1 d-flex  align-items-center">
                <img src="../imagenes/inscripciones.png" alt="" width="60" height="60" class=" me-2">
                <h2 class="mb-3 text-center border-bottom border-danger "> HISTORIAL DE INSCRIPCIONES:</h2>
            
               
            </div>
            <h5 class="mb-3 text-left ">Ingrese el período a consultar:</h5>
            <div class="row">
                    <div class=" col-2 col-lg-2 d-flex align-items-center">
                    
                        <label>Inicio: </label>
                        
                        <input type="date" class="form-control" id="txtFechaInicio" autofocus>
                    
                    </div>
                    <div class="col-1 col-lg-1 d-flex"></div>
                    <div class="col-2 col-lg-2 d-flex  align-items-center">
                    
                        <label>Fin:</label>
                        
                        <input type="date" class="form-control" id="txtFechaFin"   autofocus>
                
                    </div>
                    <div class="col-2 col-lg-2 d-flex"><button  class="btn btn-sm btn-outline-primary" onclick="validarFecha()">consultar</button></div>
                    
            </div>



            <div class="row align-items-center p-1 ">

                <table class="table" id="tablaSociosInscrip">

                    <thead>
                    <tr>
                        
                        <th scope="col">Actividad</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Dias</th>
                        <th scope="col">Hora</th>
                        <th scope="col">Salon</th>
                        
                        <th scope="col"></th>         
                    </tr>
                    </thead>

                    <tbody id="infoHistorialInscrip">
                        
                    </tbody>

                </table>
            </div>
        </div>


        <div id="historialSuscripcion" class="mt-2">
            <div class=" ms-1 d-flex  align-items-center">
                <img src="../imagenes/suscripcion.png" alt="" width="60" height="60" class=" me-2">
                <h2 class="mb-3 text-center border-bottom border-danger "> HISTORIAL DE SUSCRIPCIONES:</h2>
            
               
            </div>
            <h5 class="mb-3 text-left ">Ingrese el período a consultar:</h5>
            <div class="row">
                    <div class=" col-2 col-lg-2 d-flex align-items-center">
                    
                        <label>Inicio: </label>
                        
                        <input type="date" class="form-control" id="txtFechaInicioSus" autofocus>
                    
                    </div>
                    <div class="col-1 col-lg-1 d-flex"></div>
                    <div class="col-2 col-lg-2 d-flex  align-items-center">
                    
                        <label>Fin:</label>
                        
                        <input type="date" class="form-control" id="txtFechaFinSus"   autofocus>
                
                    </div>
                    <div class="col-2 col-lg-2 d-flex"><button  class="btn btn-sm btn-outline-primary" onclick="validarFechaSus()">consultar</button></div>
                    
            </div>



            <div class="row align-items-center p-1 ">

                <table class="table" id="tablaSociosInscrip">

                    <thead>
                    <tr>
                        <th scope="col">Suscripcion</th>
                        <th scope="col">Actividad</th>
                        <th scope="col">Cant.Clases</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Fecha Vencimiento</th>
                        <th scope="col">Nro. de pago</th>
                        <th scope="col">Fecha de Pago</th>
                        
                    
                    </tr>
                    </thead>

                    <tbody id="infoHistorialSuscrip">
                        
                    </tbody>

                </table>
            </div>
            
        </div>

        <div id="agregarSuscSocio" class="mt-2">
           
            <div class="container">
                <div class=" ms-1 d-flex  align-items-center">
                    <img src="../imagenes/suscripcion.png" alt="" width="60" height="60" class=" me-2">
                    <h2 class="mb-3 text-center border-bottom border-danger ">ELEGIR SUSCRIPCION:</h2>
           
                </div>
                <div class="d-flex align-items-center">
                    <label class="fw-bold">Filtro: </label>
                    <select class="form-select"  id="slctTipoClase"  placeholder="Buscar por clase..." onchange="selectActividad()"></select>
                </div>  
                <br>
                <div class="row" id="suscripciones">
                    <div class="d-flex justify-content-center mt-2">
                        <div class="spinner-grow" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div><br>
                        <div><p class="fw-bold">cargando...</p></div>

                    </div>
                </div>
            </div>
    
        </div>




        <div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalToggleLabel">Adquirir suscripcion</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class=" ms-1 d-flex  align-items-center">
                        <img src="../imagenes/pregunta.png" alt="" width="60" height="60" class=" me-2" >
                        <h3 class="mb-3 text-center  ">¿Esta seguro que desea adquirir la suscripcion para este socio?</h3>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                  <button class="btn btn-primary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" onclick="confirmSuscripcion()">Confirmar</button>
                </div>
              </div>
            </div>
          </div>


          <div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                    <img src="../imagenes/pagos.png" alt="" width="60" height="60" class=" me-2" >
                  <h5 class="modal-title" id="exampleModalToggleLabel2">Registrar pago</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex"  style=" height: 50px;"> <b> N° Compra:</b> <p id="idCompra"> <span class="visually-hidden">Loading...</span></p></div>
                    <div class="d-flex"  style=" height: 50px;"> <b> Precio: $</b> <p id="precio"> <span class="visually-hidden">Loading...</span></p></div>
                    <div class="d-flex"  style=" height: 50px;"> <b> Forma de pago:</b>
                        <select class="form-select" aria-label="Default select example" id="slctFormaPago">
                        <option value="Efectivo">Efectivo</option>
                        <option value="">Medio Virtual</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary"  data-bs-dismiss="modal" onclick="registrarPago()">Pagar</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    
                </div>
              </div>
            </div>
          </div>
           <!--<a class="btn btn-primary" data-bs-toggle="modal" href="#exampleModalToggle" role="button">Abrir el primer modal</a>-->
           <div class="modal" tabindex="-1" id="cartelModalAceptar">
            <div  class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="titulo"></h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"  onclick="oculta('cartelModal')"></button>
                </div>
                <div class="modal-body">
                    <div class=" ms-1 d-flex  align-items-center">
                        <img src="../imagenes/aceptar.png" alt="" width="60" height="60" class=" me-2" >
                        <h3 class="mb-3 text-center  " id="respuesta"><span class="visually-hidden">Loading...</span></h3>
                    </div>
                  <p ></p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"  onclick="oculta('cartelModal')">Cerrar</button>
                  
                </div>
              </div>
            </div>
          </div>

          <div class="modal" tabindex="-1" id="cartelModalRechazar">
            <div  class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="titulo"></h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"  onclick="oculta('cartelModal')"></button>
                </div>
                <div class="modal-body">
                    <div class=" ms-1 d-flex  align-items-center">
                        <img src="../imagenes/cancelar.png" alt="" width="60" height="60" class=" me-2" >
                        <h3 class="mb-3 text-center  " id="respuesta"><span class="visually-hidden">Loading...</span></h3>
                    </div>
                  <p ></p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"  onclick="oculta('cartelModal')">Cerrar</button>
                  
                </div>
              </div>
            </div>
          </div>
     
        
        
        </main>
    </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        
</body>


</html>